{
  "info": {
    "name": "Wholesale Product API",
    "description": "Comprehensive Product API with multi-category support, brand integration, and advanced features",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": "1.0.0"
  },
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{auth_token}}",
        "type": "string"
      }
    ]
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:3000/api",
      "type": "string"
    },
    {
      "key": "auth_token",
      "value": "your_jwt_token_here",
      "type": "string"
    },
    {
      "key": "product_id",
      "value": "507f1f77bcf86cd799439011",
      "type": "string"
    },
    {
      "key": "category_id",
      "value": "507f1f77bcf86cd799439012",
      "type": "string"
    },
    {
      "key": "brand_id",
      "value": "507f1f77bcf86cd799439013",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Admin Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"identifier\": \"admin\",\n  \"password\": \"Admin123!\",\n  \"role\": \"admin\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/auth/login",
              "host": ["{{base_url}}"],
              "path": ["auth", "login"]
            },
            "description": "Login as admin to get authentication token"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Public Product Endpoints",
      "item": [
        {
          "name": "Get All Products",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/products?page=1&limit=10&sort=-createdAt",
              "host": ["{{base_url}}"],
              "path": ["products"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                },
                {
                  "key": "sort",
                  "value": "-createdAt"
                }
              ]
            },
            "description": "Get all products with pagination and sorting"
          },
          "response": []
        },
        {
          "name": "Get Products with Advanced Filtering",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/products?categories={{category_id}}&brandId={{brand_id}}&minPrice=100&maxPrice=2000&search=laptop&stockStatus=in_stock&isPublished=true",
              "host": ["{{base_url}}"],
              "path": ["products"],
              "query": [
                {
                  "key": "categories",
                  "value": "{{category_id}}"
                },
                {
                  "key": "brandId",
                  "value": "{{brand_id}}"
                },
                {
                  "key": "minPrice",
                  "value": "100"
                },
                {
                  "key": "maxPrice",
                  "value": "2000"
                },
                {
                  "key": "search",
                  "value": "laptop"
                },
                {
                  "key": "stockStatus",
                  "value": "in_stock"
                },
                {
                  "key": "isPublished",
                  "value": "true"
                }
              ]
            },
            "description": "Advanced filtering with multiple parameters"
          },
          "response": []
        },
        {
          "name": "Get Single Product",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/products/{{product_id}}",
              "host": ["{{base_url}}"],
              "path": ["products", "{{product_id}}"]
            },
            "description": "Get detailed information about a specific product"
          },
          "response": []
        },
        {
          "name": "Get Products by Category",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/products/category/{{category_id}}?page=1&limit=5",
              "host": ["{{base_url}}"],
              "path": ["products", "category", "{{category_id}}"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "5"
                }
              ]
            },
            "description": "Get all products in a specific category"
          },
          "response": []
        },
        {
          "name": "Get Products by Brand",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/products/brand/{{brand_id}}?page=1&limit=5",
              "host": ["{{base_url}}"],
              "path": ["products", "brand", "{{brand_id}}"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "5"
                }
              ]
            },
            "description": "Get all products from a specific brand"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Admin Product Management",
      "item": [
        {
          "name": "Create Product (JSON)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"productName\": \"Gaming Laptop Pro Max\",\n  \"seller\": \"TechCorp Solutions\",\n  \"sku\": \"LAPTOP-PRO-001\",\n  \"categories\": [\"{{category_id}}\"],\n  \"brandId\": \"{{brand_id}}\",\n  \"price\": 1599.99,\n  \"comparePrice\": 1899.99,\n  \"costPrice\": 1200.00,\n  \"stock\": 25,\n  \"lowStockThreshold\": 5,\n  \"trackQuantity\": true,\n  \"taxRate\": 18,\n  \"guaranteePeriod\": \"2 years international warranty\",\n  \"isReturnable\": true,\n  \"isCancelable\": true,\n  \"shortDescription\": \"High-performance gaming laptop with RTX 4080 graphics card\",\n  \"longDescription\": \"Professional gaming laptop featuring Intel i9 processor, RTX 4080 graphics, 32GB RAM, 1TB NVMe SSD. Perfect for gaming, content creation, and professional work. Includes RGB keyboard and advanced cooling system.\",\n  \"status\": \"active\",\n  \"isPublished\": true,\n  \"weight\": 2.8,\n  \"dimensions\": {\n    \"length\": 35.5,\n    \"width\": 25.2,\n    \"height\": 2.3\n  },\n  \"attributes\": [\n    {\"id\": \"processor\", \"value\": \"Intel Core i9-13900H\"},\n    {\"id\": \"graphics\", \"value\": \"NVIDIA RTX 4080\"},\n    {\"id\": \"ram\", \"value\": \"32GB DDR5\"},\n    {\"id\": \"storage\", \"value\": \"1TB NVMe SSD\"},\n    {\"id\": \"display\", \"value\": \"15.6\\\" 4K OLED\"},\n    {\"id\": \"color\", \"value\": \"Matte Black\"}\n  ],\n  \"quantityLevels\": [\n    {\n      \"level\": 1,\n      \"minQuantity\": \"1\",\n      \"maxQuantity\": \"5\",\n      \"price\": \"1599.99\",\n      \"discount\": \"0\"\n    },\n    {\n      \"level\": 2,\n      \"minQuantity\": \"6\",\n      \"maxQuantity\": \"15\",\n      \"price\": \"1549.99\",\n      \"discount\": \"3.1\"\n    },\n    {\n      \"level\": 3,\n      \"minQuantity\": \"16\",\n      \"maxQuantity\": \"50\",\n      \"price\": \"1499.99\",\n      \"discount\": \"6.3\"\n    }\n  ],\n  \"parcel\": {\n    \"width\": \"40\",\n    \"height\": \"30\",\n    \"length\": \"8\",\n    \"weight\": \"3.5\"\n  },\n  \"additionalFields\": [\n    {\"label\": \"Warranty Provider\", \"type\": \"text\", \"value\": \"TechCorp International\"},\n    {\"label\": \"Service Centers\", \"type\": \"text\", \"value\": \"Available in 50+ cities\"},\n    {\"label\": \"Certification\", \"type\": \"text\", \"value\": \"Energy Star Certified\"}\n  ],\n  \"meta\": {\n    \"title\": \"Gaming Laptop Pro Max - High Performance Gaming Computer\",\n    \"description\": \"Buy the best gaming laptop with RTX 4080, Intel i9 processor, and 4K OLED display. Free shipping and 2-year warranty included.\",\n    \"keywords\": \"gaming laptop, RTX 4080, Intel i9, 4K OLED, high performance, gaming computer\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/products",
              "host": ["{{base_url}}"],
              "path": ["products"]
            },
            "description": "Create a new product with comprehensive data (JSON format)"
          },
          "response": []
        },
        {
          "name": "Create Product with File Upload",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "productName",
                  "value": "Wireless Gaming Mouse Elite",
                  "type": "text"
                },
                {
                  "key": "seller",
                  "value": "GamerGear Inc",
                  "type": "text"
                },
                {
                  "key": "sku",
                  "value": "MOUSE-ELITE-001",
                  "type": "text"
                },
                {
                  "key": "categories",
                  "value": "{{category_id}},{{category_id_2}}",
                  "type": "text",
                  "description": "Comma-separated category IDs or JSON array format"
                },
                {
                  "key": "brandId",
                  "value": "{{brand_id}}",
                  "type": "text"
                },
                {
                  "key": "price",
                  "value": "89.99",
                  "type": "text"
                },
                {
                  "key": "comparePrice",
                  "value": "119.99",
                  "type": "text"
                },
                {
                  "key": "stock",
                  "value": "100",
                  "type": "text"
                },
                {
                  "key": "shortDescription",
                  "value": "Professional wireless gaming mouse with RGB lighting",
                  "type": "text"
                },
                {
                  "key": "longDescription",
                  "value": "Ultra-precise wireless gaming mouse featuring 25,600 DPI sensor, customizable RGB lighting, ergonomic design, and 70-hour battery life. Perfect for competitive gaming and professional use.",
                  "type": "text"
                },
                {
                  "key": "weight",
                  "value": "0.085",
                  "type": "text"
                },
                {
                  "key": "dimensions",
                  "value": "{\"length\": 12.5, \"width\": 6.8, \"height\": 4.2}",
                  "type": "text"
                },
                {
                  "key": "attributes",
                  "value": "[{\"id\": \"dpi\", \"value\": \"25600\"}, {\"id\": \"connectivity\", \"value\": \"Wireless 2.4GHz + Bluetooth\"}, {\"id\": \"battery\", \"value\": \"70 hours\"}, {\"id\": \"buttons\", \"value\": \"8 programmable\"}]",
                  "type": "text"
                },
                {
                  "key": "mainImage",
                  "type": "file",
                  "src": "/path/to/mouse-main.jpg"
                },
                {
                  "key": "otherImages",
                  "type": "file",
                  "src": "/path/to/mouse-side1.jpg"
                },
                {
                  "key": "otherImages",
                  "type": "file",
                  "src": "/path/to/mouse-side2.jpg"
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/products",
              "host": ["{{base_url}}"],
              "path": ["products"]
            },
            "description": "Create product with file uploads (form-data)"
          },
          "response": []
        },
        {
          "name": "Update Product",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"productName\": \"Gaming Laptop Pro Max - Updated\",\n  \"price\": 1499.99,\n  \"comparePrice\": 1799.99,\n  \"stock\": 30,\n  \"shortDescription\": \"Updated high-performance gaming laptop with latest features\",\n  \"longDescription\": \"Updated professional gaming laptop with enhanced cooling system, improved battery life, and latest software updates. Now includes free premium software bundle worth $200.\",\n  \"status\": \"active\",\n  \"isPublished\": true,\n  \"attributes\": [\n    {\"id\": \"processor\", \"value\": \"Intel Core i9-13900H\"},\n    {\"id\": \"graphics\", \"value\": \"NVIDIA RTX 4080\"},\n    {\"id\": \"ram\", \"value\": \"32GB DDR5\"},\n    {\"id\": \"storage\", \"value\": \"2TB NVMe SSD\"},\n    {\"id\": \"display\", \"value\": \"15.6\\\" 4K OLED 120Hz\"},\n    {\"id\": \"color\", \"value\": \"Matte Black\"},\n    {\"id\": \"updated_feature\", \"value\": \"Enhanced Cooling System\"}\n  ]\n}"
            },
            "url": {
              "raw": "{{base_url}}/products/{{product_id}}",
              "host": ["{{base_url}}"],
              "path": ["products", "{{product_id}}"]
            },
            "description": "Update an existing product"
          },
          "response": []
        },
        {
          "name": "Delete Product",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/products/{{product_id}}",
              "host": ["{{base_url}}"],
              "path": ["products", "{{product_id}}"]
            },
            "description": "Soft delete a product (archives it)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Advanced Product Operations",
      "item": [
        {
          "name": "Bulk Update Products",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"updates\": [\n    {\n      \"id\": \"{{product_id}}\",\n      \"data\": {\n        \"price\": 1399.99,\n        \"stock\": 35,\n        \"status\": \"active\"\n      }\n    },\n    {\n      \"id\": \"507f1f77bcf86cd799439014\",\n      \"data\": {\n        \"price\": 79.99,\n        \"shortDescription\": \"Updated gaming mouse with new features\",\n        \"stock\": 150\n      }\n    },\n    {\n      \"id\": \"507f1f77bcf86cd799439015\",\n      \"data\": {\n        \"status\": \"inactive\",\n        \"shortDescription\": \"Temporarily unavailable - new version coming soon\"\n      }\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{base_url}}/products/bulk",
              "host": ["{{base_url}}"],
              "path": ["products", "bulk"]
            },
            "description": "Update multiple products in a single request"
          },
          "response": []
        },
        {
          "name": "Duplicate Product",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"productName\": \"Gaming Laptop Pro Max V2\",\n  \"sku\": \"LAPTOP-PRO-002\",\n  \"price\": 1699.99,\n  \"comparePrice\": 1999.99,\n  \"shortDescription\": \"Next generation gaming laptop with enhanced performance\",\n  \"attributes\": [\n    {\"id\": \"processor\", \"value\": \"Intel Core i9-14900H\"},\n    {\"id\": \"graphics\", \"value\": \"NVIDIA RTX 4090\"},\n    {\"id\": \"ram\", \"value\": \"64GB DDR5\"},\n    {\"id\": \"storage\", \"value\": \"2TB NVMe SSD\"},\n    {\"id\": \"display\", \"value\": \"16\\\" 4K OLED 165Hz\"},\n    {\"id\": \"color\", \"value\": \"Space Gray\"}\n  ]\n}"
            },
            "url": {
              "raw": "{{base_url}}/products/{{product_id}}/duplicate",
              "host": ["{{base_url}}"],
              "path": ["products", "{{product_id}}", "duplicate"]
            },
            "description": "Create a duplicate of an existing product with modifications"
          },
          "response": []
        },
        {
          "name": "Update Product Stock",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"quantity\": 45\n}"
            },
            "url": {
              "raw": "{{base_url}}/products/{{product_id}}/stock",
              "host": ["{{base_url}}"],
              "path": ["products", "{{product_id}}", "stock"]
            },
            "description": "Update only the stock quantity of a product"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Product Analytics & Reports",
      "item": [
        {
          "name": "Get Product Statistics",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/products/statistics",
              "host": ["{{base_url}}"],
              "path": ["products", "statistics"]
            },
            "description": "Get comprehensive product statistics and analytics"
          },
          "response": []
        },
        {
          "name": "Get Low Stock Products",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/products/low-stock?page=1&limit=20",
              "host": ["{{base_url}}"],
              "path": ["products", "low-stock"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "20"
                }
              ]
            },
            "description": "Get all products with low stock levels"
          },
          "response": []
        },
        {
          "name": "Get Out of Stock Products",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/products/out-of-stock?page=1&limit=20",
              "host": ["{{base_url}}"],
              "path": ["products", "out-of-stock"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "20"
                }
              ]
            },
            "description": "Get all products that are out of stock"
          },
          "response": []
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Auto-set auth token from login response",
          "if (pm.response && pm.response.json() && pm.response.json().token) {",
          "    pm.collectionVariables.set('auth_token', pm.response.json().token);",
          "}"
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Basic response validation",
          "pm.test('Status code is success', function () {",
          "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
          "});",
          "",
          "pm.test('Response has success field', function () {",
          "    const jsonData = pm.response.json();",
          "    pm.expect(jsonData).to.have.property('success');",
          "});",
          "",
          "// Store product ID from creation response",
          "if (pm.response.json().data && pm.response.json().data._id) {",
          "    pm.collectionVariables.set('product_id', pm.response.json().data._id);",
          "}"
        ]
      }
    }
  ]
}
